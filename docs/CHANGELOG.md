# 更新日志 (Changelog)

本文档记录 EFD-PINNs 项目的所有重要更新。

---

## [v6.0.0] - 2025-12-10

### 🎯 物理参数校准
- **Stage 1 参数校准**: 使模型预测与实验数据一致
  - SU-8 400nm (ε=3.0) + Teflon 400nm (ε=1.9)
  - 极性液体 γ=0.050 N/m（乙二醇混合液）
  - 阈值电压 V_T=3V
  - 开口率映射：k=0.8, theta_scale=6.0, alpha=0.05
  - **20V 开口率 66.7%，实验值 67%，误差 0.3%** ✓

### ✅ Stage 2 验证
- **PINN 训练完成**: 10000 epochs，最佳损失 7.29
- **物理验证通过**: 16/16 测试点通过
- **开口率对比**:
  - V=0V: Stage1=0%, PINN=0% ✓
  - V=10V: Stage1=10.3%, PINN=9.2% ✓
  - V=20V: Stage1=66.7%, PINN=73.6% ✓
  - V=30V: Stage1=84.4%, PINN=84.6% ✓

### 🔧 代码改进
- 修复硬编码问题：开口率映射参数现在从配置文件读取
- 更新代码注释：正确描述电润湿物理机制
- Stage 2 PINN 与 Stage 1 配置同步

### 📝 文档
- 更新所有文档以反映校准后的参数
- 添加物理机制说明
- 更新训练历史记录

---

## [v5.0.0] - 2025-12-08

### ✨ 新功能
- **Stage 2 完成**: 两相流 PINN 训练完成
  - V=0V 开口率 0%
  - V=30V 开口率 ~61%
  - 开口率随电压单调递增

### 📝 文档
- 更新所有文档以反映当前项目状态
- 清理过时的文件引用
- 统一使用 `src/` 目录下的模块路径

---

## [v4.1.0] - 2025-12-05

### 🔧 修复
- **配置文件修复**: 修复了丢失的训练配置文件
  - 重建 `config/stage1_config.json`
  - 重建 `config/stage8_residual_learning.json`

### ✅ 测试
- 新增 `tests/test_config_loading.py` - 配置加载单元测试
- 新增 `tests/test_model_dimensions.py` - 模型维度属性测试

---

## [v4.0.0] - 2025-12-04

### ✨ 新功能
- **两相流 PINN 整合优化**: 创建统一的 `src/models/pinn_two_phase.py`
  - 径向坐标转换（利用轴对称性）
  - 分离网络架构（phi + 速度场）
  - 完整物理损失（连续性 + VOF + N-S）
  - 渐进式训练策略（3阶段）

### 🗑️ 清理
- 删除不成熟的 PINN 版本
- 项目重构到 `src/` 目录

---

## [v3.0.0] - 2025-12-03

### ✨ 新功能
- **3D 可视化模块**: `src/visualization/visualizer_3d.py`
- **流场求解器**: `src/solvers/flow_solver.py`
- **PINN 数据生成器**: `src/physics/pinn_data_generator.py`

---

## [v2.0.0] - 2025-12-02

### ✨ 新功能
- **增强开口率模型**: `src/models/aperture_model.py`
- **混合预测器**: `src/predictors/hybrid_predictor.py`

---

## [v1.0.0] - 2025-12-01

### 🎉 重大突破
- **数据生成器重写**: 使用 Young-Lippmann 方程生成真实训练数据
- 角度变化从 1.2° 提升到 30.1°

### ✅ Stage 1 完成
- 稳态精度 (30V): 0.7° (目标 <3°)
- 角度变化: 30.1° (目标 33°)
- 超调: 3.9% (目标 <15%)
- 响应时间: 13ms (目标 <30ms)

---

## 版本命名规则

- **主版本号**: 重大功能更新或架构变更
- **次版本号**: 新功能添加
- **修订号**: Bug 修复和小改进

---

**最后更新**: 2025-12-10
